{% extends "admin/base.html" %}

{% block extrahead %}<script src="/code/js/prototype.js"></script>{% endblock %}

{% block content %}
<script>
var run_block=function(worker )
{
      new Ajax.Updater('block_tgt_'+worker, '/mt/ban_worker/'+worker+'/', {
          });
}

</script>
<hr/>
<table><tr><td>Session code</td><td>Worker</td><td>Num submissions</td><td>Grades</td><td>Grading link</td><td>Total by worker</td></tr>
{% for s in session_stats %}
<tr><td>{{session.code}}</td><td>{{s.worker}}</td><td>{{s.count}}</td>

  <td>{{s.num_good}}/{{s.num_ok}}/{{s.num_bad}}</td>

<td><a href="/mt/grading/by_worker/{{session.code}}/{{s.worker}}/">grade ({{s.num_to_grade}} )</a></td>
<td>{{s.total}}</td>
<td><div id='block_tgt_{{s.worker}}'><a href='#' onclick="run_block('{{s.worker}}');return false">ban</a></td>
</tr>
{% endfor %}
</table>

{% endblock %}
